DROP SEQUENCE BOARDNOSEQ;
DROP SEQUENCE GROUPNOSEQ;

DROP TABLE ANSWERBOARD;

CREATE SEQUENCE BOARDNOSEQ;
CREATE SEQUENCE GROUPNOSEQ;

CREATE TABLE ANSWERBOARD(
	BOARDNO NUMBER PRIMARY KEY,         --글번호
	GROUPNO NUMBER NOT NULL,            --그룹번호
	GROUPSEQ NUMBER NOT NULL,           --그룹순서
	TITLETAB NUMBER NOT NULL,           --제목공백
	DELFLAG  VARCHAR2(2) NOT NULL,      --삭제여부(Y,N)
	TITLE VARCHAR2(1000) NOT NULL,      --제목
	CONTENT VARCHAR2(4000) NOT NULL,    --내용
	WRITER VARCHAR2(200) NOT NULL,      --작성자
	REGDATE DATE NOT NULL,              --작성일
	CONSTRAINT ANSWER_CK_DELFLAG CHECK (DELFLAG IN ('Y', 'N'))
);

SELECT BOARDNO, GROUPNO, GROUPSEQ, TITLETAB, DELFLAG, TITLE, CONTENT, WRITER, REGDATE 
FROM ANSWERBOARD
ORDER BY GROUPNO DESC, GROUPSEQ;

-- 글 작성 1
INSERT INTO ANSWERBOARD
VALUES(BOARDNOSEQ.NEXTVAL, GROUPNOSEQ.NEXTVAL, 1, 0, 'N', '제목이다', 
	'내용이다', '작성자이다', SYSDATE);
